from typing import Any, Protocol
from contextlib import AbstractAsyncContextManager


class DatabaseProtocol(Protocol):
    async def execute(self, query: str, *args: Any) -> str: ...
    async def fetch(self, query: str, *args: Any) -> list[Any]: ...
    async def fetchrow(self, query: str, *args: Any) -> Any: ...
    async def fetchval(self, query: str, *args: Any) -> Any: ...
    async def execute_script(self, script: str) -> None: ...
    async def transaction(self) -> AbstractAsyncContextManager[Any]: ...
